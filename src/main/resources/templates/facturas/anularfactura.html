<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:tiles="http://www.thymeleaf.org">
<head th:replace="header :: header">
<title>Anular factura</title>
</head>
<body class="main-form" ng-app="Facturacion" ng-controller="FacturacionController">
	<nav th:replace="navJM :: navJM"></nav>
	<h1 style="color: black;">Anular Factura</h1>

	<form>
		<div class="row">
			<div class="large-3 medium-3 small-3 columns">
				<label>Número de la factura a anular <input ng-model="viewHolder.numFactura" type="text" ng-blur="validarFactura()" />
				</label>
			</div>
		</div>
		<div class="row">
			<div class="large-3 medium-3 small-3 columns">
				<label>Fecha de la factura <input type="text" ng-model="viewHolder.fecha" ng-blur="validarFecha()"
					placeholder="dd/mm/yyyy" 
					pattern="^(?:(?:31(\/|-|\.)(?:0?[13578]|1[02]))\1|(?:(?:29|30)(\/|-|\.)(?:0?[1,3-9]|1[0-2])\2))(?:(?:1[6-9]|[2-9]\d)?\d{2})$|^(?:29(\/|-|\.)0?2\3(?:(?:(?:1[6-9]|[2-9]\d)?(?:0[48]|[2468][048]|[13579][26])|(?:(?:16|[2468][048]|[3579][26])00))))$|^(?:0?[1-9]|1\d|2[0-8])(\/|-|\.)(?:(?:0?[1-9])|(?:1[0-2]))\4(?:(?:1[6-9]|[2-9]\d)?\d{2})$" />
				</label>
				<!-- patrón tomado de http://stackoverflow.com/questions/15491894/regex-to-validate-date-format-dd-mm-yyyy -->
			</div>
		</div>
		<div class="row">
			<div class="large-3 medium-3 small-3 columns">
				<label>Código del cliente <input type="text" ng-model="viewHolder.codigoCliente" ng-model-options="{updateOn: 'blur'}" ng-change="cambioCliente()" /></label>
			</div>
			<div class="large-8 medium-8 small-8 columns end">
				<label> &nbsp;<input type="text" ng-model="viewHolder.razsoc" /></label>
			</div>
		</div>
			<table>
				<thead>
					<tr>
						<th style="width: 20%;">C&oacute;digo</th>
						<th style="width: 20%;">Nombre</th>
						<th style="width: 20%;">Referencia</th>
						<th style="width: 20%;">Valor</th>
					</tr>
				</thead>

				<tbody>
					<tr ng-repeat="producto in viewHolder.productos">
						<td><input type="text" ng-model="producto.codigo" /></td>
						<td><input type="text" ng-model="producto.nombre" /></td>
						<td><input type="text" ng-model="producto.referencia" /></td>
						<td><input type="number" ng-model="producto.valor" /></td>
					</tr>
				</tbody>
			</table>
		<div class="row">
			<div class="large-2 large-offset-9 columns">
				<a href="#" class="button">Anular factura</a>
			</div>
		</div>
	</form>
	<footer th:replace="footer :: footer"></footer>
	<script src="/static/js/facturas/anularfactura.js"></script>
</body>
</html>
